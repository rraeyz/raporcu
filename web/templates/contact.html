{% extends "base.html" %}

{% block title %}İletişim - Raporcu{% endblock %}

{% block content %}
<!-- Contact Hero -->
<section class="contact-hero" id="contact-hero">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8 mx-auto text-center" data-aos="fade-up">
                <h1 class="hero-title">İletişime Geçin</h1>
                <p class="hero-subtitle">Sorularınız, önerileriniz veya iş birliği talepleriniz için bizimle iletişime geçebilirsiniz</p>
            </div>
        </div>
    </div>
    <div class="hero-wave">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
            <path fill="#ffffff" fill-opacity="1" d="M0,96L60,112C120,128,240,160,360,160C480,160,600,128,720,122.7C840,117,960,139,1080,138.7C1200,139,1320,117,1380,106.7L1440,96L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"></path>
        </svg>
    </div>
</section>

<!-- Contact Info Section -->
<section class="contact-info section-padding" id="contact-info">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-4 col-md-6 mb-4" data-aos="fade-up" data-aos-delay="100">
                <div class="contact-card">
                    <div class="contact-icon">
                        <i class="bi bi-envelope"></i>
                    </div>
                    <h3>E-posta İletişimi</h3>
                    <p>Tüm sorularınız için bize e-posta gönderebilirsiniz. En kısa sürede yanıt vereceğiz.</p>
                    <a href="mailto:info@raporcu.com" class="contact-link">info@raporcu.com</a>
                    <a href="mailto:destek@raporcu.com" class="contact-link">destek@raporcu.com</a>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4" data-aos="fade-up" data-aos-delay="200">
                <div class="contact-card">
                    <div class="contact-icon">
                        <i class="bi bi-telephone"></i>
                    </div>
                    <h3>Telefon İletişimi</h3>
                    <p>Pazartesi-Cuma 09:00-18:00 saatleri arasında telefonla bize ulaşabilirsiniz.</p>
                    <a href="tel:+902121234567" class="contact-link">+90 (212) 123 45 67</a>
                    <a href="tel:+905001234567" class="contact-link">+90 (500) 123 45 67</a>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4" data-aos="fade-up" data-aos-delay="300">
                <div class="contact-card">
                    <div class="contact-icon">
                        <i class="bi bi-chat"></i>
                    </div>
                    <h3>Canlı Destek</h3>
                    <p>Acil sorularınız için canlı destek hattımızı kullanabilirsiniz.</p>
                    <p class="contact-schedule">Pazartesi-Cuma: 09:00-22:00<br>Cumartesi-Pazar: 10:00-18:00</p>
                    <a href="#" class="btn btn-outline-primary">Canlı Desteğe Bağlan</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Form Section -->
<section class="contact-form-section section-padding bg-light" id="contact-form">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="contact-form-wrapper" data-aos="fade-up">
                    <div class="section-header text-center">
                        <h2>Bize Mesaj Gönderin</h2>
                        <p>Formu doldurarak bize ulaşabilirsiniz. En kısa sürede sizinle iletişime geçeceğiz.</p>
                    </div>
                    
                    {% with messages = get_flashed_messages(with_categories=true) %}
                        {% if messages %}
                            {% for category, message in messages %}
                                <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                                    {{ message }}
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            {% endfor %}
                        {% endif %}
                    {% endwith %}
                    
                    <form action="{{ url_for('main.contact') }}" method="POST" class="contact-form" id="contactForm">
                        {{ form.csrf_token }}
                        <div class="row">
                            <div class="col-md-6 mb-4">
                                <div class="form-group">
                                    <label for="name" class="form-label">Adınız Soyadınız <span class="text-danger">*</span></label>
                                    {{ form.name(class="form-control", id="name", placeholder="Adınız Soyadınız") }}
                                    {% if form.name.errors %}
                                        <div class="invalid-feedback d-block">
                                            {% for error in form.name.errors %}
                                                {{ error }}
                                            {% endfor %}
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="col-md-6 mb-4">
                                <div class="form-group">
                                    <label for="email" class="form-label">E-posta Adresiniz <span class="text-danger">*</span></label>
                                    {{ form.email(class="form-control", id="email", placeholder="E-posta Adresiniz") }}
                                    {% if form.email.errors %}
                                        <div class="invalid-feedback d-block">
                                            {% for error in form.email.errors %}
                                                {{ error }}
                                            {% endfor %}
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="col-md-6 mb-4">
                                <div class="form-group">
                                    <label for="phone" class="form-label">Telefon Numaranız</label>
                                    {{ form.phone(class="form-control", id="phone", placeholder="Telefon Numaranız") }}
                                    {% if form.phone.errors %}
                                        <div class="invalid-feedback d-block">
                                            {% for error in form.phone.errors %}
                                                {{ error }}
                                            {% endfor %}
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="col-md-6 mb-4">
                                <div class="form-group">
                                    <label for="subject" class="form-label">Konu <span class="text-danger">*</span></label>
                                    {{ form.subject(class="form-control", id="subject") }}
                                    {% if form.subject.errors %}
                                        <div class="invalid-feedback d-block">
                                            {% for error in form.subject.errors %}
                                                {{ error }}
                                            {% endfor %}
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="col-12 mb-4">
                                <div class="form-group">
                                    <label for="message" class="form-label">Mesajınız <span class="text-danger">*</span></label>
                                    {{ form.message(class="form-control", id="message", rows="6", placeholder="Mesajınızı buraya yazın...") }}
                                    {% if form.message.errors %}
                                        <div class="invalid-feedback d-block">
                                            {% for error in form.message.errors %}
                                                {{ error }}
                                            {% endfor %}
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-check mb-4">
                                    {{ form.consent(class="form-check-input", id="consent") }}
                                    <label class="form-check-label" for="consent">
                                        Kişisel verilerimin işlenmesine izin veriyorum ve <a href="{{ url_for('main.privacy') }}" target="_blank">Gizlilik Politikası</a>'nı okudum ve kabul ediyorum.
                                    </label>
                                    {% if form.consent.errors %}
                                        <div class="invalid-feedback d-block">
                                            {% for error in form.consent.errors %}
                                                {{ error }}
                                            {% endfor %}
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="col-12 text-center">
                                <button type="submit" class="btn btn-primary btn-lg">Mesajı Gönder</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Office Locations Section -->
<section class="office-locations section-padding" id="office-locations">
    <div class="container">
        <div class="section-header text-center" data-aos="fade-up">
            <h2>Ofis Lokasyonlarımız</h2>
            <p>İsterseniz ofislerimizi ziyaret edebilirsiniz</p>
        </div>
        
        <div class="row">
            <div class="col-lg-6 mb-4" data-aos="fade-up" data-aos-delay="100">
                <div class="location-card">
                    <div class="row">
                        <div class="col-md-5">
                            <div class="location-image">
                                <img src="{{ url_for('static', filename='images/istanbul-office.jpg') }}" alt="İstanbul Ofisi" class="img-fluid">
                            </div>
                        </div>
                        <div class="col-md-7">
                            <div class="location-content">
                                <h3>İstanbul Ofisi</h3>
                                <p class="location-address">
                                    <i class="bi bi-geo-alt"></i>
                                    Levent Mah. Büyükdere Cad. No:123<br>
                                    Şişli, İstanbul, 34394
                                </p>
                                <p class="location-contact">
                                    <i class="bi bi-telephone"></i>
                                    +90 (212) 123 45 67
                                </p>
                                <p class="location-email">
                                    <i class="bi bi-envelope"></i>
                                    istanbul@raporcu.com
                                </p>
                                <p class="location-hours">
                                    <i class="bi bi-clock"></i>
                                    Pazartesi-Cuma: 09:00-18:00
                                </p>
                                <a href="https://goo.gl/maps/123" target="_blank" class="btn btn-sm btn-outline-primary">Yol Tarifi Al</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4" data-aos="fade-up" data-aos-delay="200">
                <div class="location-card">
                    <div class="row">
                        <div class="col-md-5">
                            <div class="location-image">
                                <img src="{{ url_for('static', filename='images/ankara-office.jpg') }}" alt="Ankara Ofisi" class="img-fluid">
                            </div>
                        </div>
                        <div class="col-md-7">
                            <div class="location-content">
                                <h3>Ankara Ofisi</h3>
                                <p class="location-address">
                                    <i class="bi bi-geo-alt"></i>
                                    Kızılay Mah. Atatürk Bulvarı No:45<br>
                                    Çankaya, Ankara, 06420
                                </p>
                                <p class="location-contact">
                                    <i class="bi bi-telephone"></i>
                                    +90 (312) 123 45 67
                                </p>
                                <p class="location-email">
                                    <i class="bi bi-envelope"></i>
                                    ankara@raporcu.com
                                </p>
                                <p class="location-hours">
                                    <i class="bi bi-clock"></i>
                                    Pazartesi-Cuma: 09:00-18:00
                                </p>
                                <a href="https://goo.gl/maps/456" target="_blank" class="btn btn-sm btn-outline-primary">Yol Tarifi Al</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FAQ Preview Section -->
<section class="faq-preview section-padding bg-light" id="faq-preview">
    <div class="container">
        <div class="section-header text-center" data-aos="fade-up">
            <h2>Sıkça Sorulan Sorular</h2>
            <p>İletişim kurmadan önce, sık sorulan sorulara göz atabilirsiniz</p>
        </div>
        
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="accordion" id="contactFaqAccordion" data-aos="fade-up">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                İletişim formunu gönderdikten sonra ne kadar sürede yanıt alabilirim?
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#contactFaqAccordion">
                            <div class="accordion-body">
                                İletişim formundan gönderilen mesajlara genellikle 24 saat içinde yanıt vermeye çalışıyoruz. Yoğun dönemlerde bu süre en fazla 48 saate kadar uzayabilir. Acil durumlarda, telefon numaralarımızdan bize ulaşabilir veya canlı destek hattımızı kullanabilirsiniz.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                Teknik destek için hangi iletişim kanalını kullanmalıyım?
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#contactFaqAccordion">
                            <div class="accordion-body">
                                Teknik destek için en hızlı yanıt alabileceğiniz kanal destek@raporcu.com e-posta adresidir. Ayrıca, platformumuzdaki "Yardım ve Destek" bölümünden de teknik destek talebi oluşturabilirsiniz. Acil durumlarda canlı destek hattımız da teknik konularda yardımcı olacaktır.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingThree">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                Kurumsal iş birliği teklifleri için kiminle görüşmeliyim?
                            </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#contactFaqAccordion">
                            <div class="accordion-body">
                                Kurumsal iş birliği teklifleri için business@raporcu.com e-posta adresimize detaylı bir e-posta gönderebilirsiniz. E-postanızda kurumunuz hakkında bilgi ve iş birliği önerinizin detaylarını belirtmeniz, teklifinizin daha hızlı değerlendirilmesini sağlayacaktır. Kurumsal satış ekibimiz en kısa sürede sizinle iletişime geçecektir.
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="text-center mt-4" data-aos="fade-up">
                    <a href="{{ url_for('main.faq') }}" class="link-primary">Tüm soruları görüntüle <i class="bi bi-arrow-right"></i></a>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_css %}
<style>
    /* Contact Hero Styles */
    .contact-hero {
        background: linear-gradient(135deg, #4e73df 0%, #2742af 100%);
        color: white;
        padding: 150px 0 100px;
        position: relative;
        overflow: hidden;
        text-align: center;
    }
    
    .hero-title {
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        line-height: 1.2;
    }
    
    .hero-subtitle {
        font-size: 1.2rem;
        margin-bottom: 2rem;
        opacity: 0.9;
    }
    
    .hero-wave {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 60px;
        line-height: 0;
    }
    
    /* Sections Common Styles */
    .section-padding {
        padding: 100px 0;
    }
    
    .section-header {
        margin-bottom: 60px;
    }
    
    .section-header h2 {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 1rem;
        color: #333;
    }
    
    .section-header p {
        font-size: 1.1rem;
        color: #666;
        max-width: 700px;
        margin: 0 auto;
    }
    
    /* Contact Info Cards Styles */
    .contact-card {
        background: white;
        border-radius: 12px;
        padding: 30px;
        height: 100%;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        transition: all 0.3s ease;
        text-align: center;
        display: flex;
        flex-direction: column;
    }
    
    .contact-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
    }
    
    .contact-icon {
        font-size: 2.5rem;
        color: #4e73df;
        margin-bottom: 20px;
    }
    
    .contact-card h3 {
        font-size: 1.5rem;
        margin-bottom: 15px;
        font-weight: 600;
    }
    
    .contact-card p {
        color: #666;
        margin-bottom: 20px;
    }
    
    .contact-link {
        display: block;
        color: #4e73df;
        font-weight: 500;
        margin-bottom: 10px;
        text-decoration: none;
        transition: all 0.3s ease;
    }
    
    .contact-link:hover {
        color: #2742af;
        text-decoration: underline;
    }
    
    .contact-schedule {
        color: #666;
        font-size: 0.9rem;
        margin-bottom: 20px;
    }
    
    /* Contact Form Styles */
    .contact-form-wrapper {
        background: white;
        border-radius: 15px;
        padding: 50px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
    }
    
    .form-label {
        font-weight: 500;
        color: #444;
        margin-bottom: 8px;
    }
    
    .form-control {
        padding: 12px 15px;
        border: 1px solid #ddd;
        border-radius: 8px;
        transition: all 0.3s ease;
    }
    
    .form-control:focus {
        border-color: #4e73df;
        box-shadow: 0 0 0 0.25rem rgba(78, 115, 223, 0.25);
    }
    
    .invalid-feedback {
        font-size: 0.85rem;
        color: #dc3545;
        margin-top: 5px;
    }
    
    .form-check-label {
        color: #666;
        font-size: 0.9rem;
    }
    
    .form-check-input:checked {
        background-color: #4e73df;
        border-color: #4e73df;
    }
    
    .btn-lg {
        padding: 12px 30px;
        font-weight: 600;
    }
    
    /* Office Locations Styles */
    .location-card {
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        height: 100%;
        transition: all 0.3s ease;
    }
    
    .location-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
    }
    
    .location-image {
        height: 100%;
        min-height: 200px;
        overflow: hidden;
    }
    
    .location-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    .location-content {
        padding: 20px;
    }
    
    .location-content h3 {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 15px;
        color: #333;
    }
    
    .location-address,
    .location-contact,
    .location-email,
    .location-hours {
        font-size: 0.9rem;
        color: #666;
        margin-bottom: 10px;
        display: flex;
        align-items: flex-start;
    }
    
    .location-address i,
    .location-contact i,
    .location-email i,
    .location-hours i {
        color: #4e73df;
        margin-right: 10px;
        font-size: 1rem;
        margin-top: 2px;
    }
    
    /* Accordion Styles */
    .accordion-item {
        border: none;
        margin-bottom: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        border-radius: 10px !important;
        overflow: hidden;
    }
    
    .accordion-button {
        font-weight: 600;
        padding: 20px 25px;
        box-shadow: none !important;
    }
    
    .accordion-button:not(.collapsed) {
        color: #4e73df;
        background-color: rgba(78, 115, 223, 0.05);
    }
    
    .accordion-body {
        padding: 20px 25px;
        color: #666;
    }
    
    /* Responsive adjustments */
    @media (max-width: 991px) {
        .contact-hero {
            padding: 130px 0 80px;
        }
        
        .hero-title {
            font-size: 2.5rem;
        }
        
        .section-header h2 {
            font-size: 2rem;
        }
        
        .contact-form-wrapper {
            padding: 30px;
        }
    }
    
    @media (max-width: 767px) {
        .hero-title {
            font-size: 2rem;
        }
        
        .location-image {
            min-height: 150px;
        }
        
        .location-content {
            padding: 15px;
        }
    }
</style>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Form validation
        const contactForm = document.getElementById('contactForm');
        
        if (contactForm) {
            contactForm.addEventListener('submit', function(event) {
                let isValid = true;
                
                // Required fields
                const requiredFields = ['name', 'email', 'subject', 'message'];
                requiredFields.forEach(field => {
                    const input = document.getElementById(field);
                    if (!input.value.trim()) {
                        isValid = false;
                        input.classList.add('is-invalid');
                    } else {
                        input.classList.remove('is-invalid');
                    }
                });
                
                // Email validation
                const emailInput = document.getElementById('email');
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (emailInput.value.trim() && !emailRegex.test(emailInput.value.trim())) {
                    isValid = false;
                    emailInput.classList.add('is-invalid');
                }
                
                // Consent checkbox
                const consentCheckbox = document.getElementById('consent');
                if (!consentCheckbox.checked) {
                    isValid = false;
                    consentCheckbox.classList.add('is-invalid');
                } else {
                    consentCheckbox.classList.remove('is-invalid');
                }
                
                if (!isValid) {
                    event.preventDefault();
                }
            });
            
            // Remove validation classes on input
            const inputs = contactForm.querySelectorAll('input, textarea, select');
            inputs.forEach(input => {
                input.addEventListener('input', function() {
                    this.classList.remove('is-invalid');
                });
            });
        }
    });
</script>
{% endblock %}
